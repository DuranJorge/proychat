<!DOCTYPE html>
<html>
  <head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">    
<title>Socket.IO chat</title>
    <style>
      #messages { list-style-type: none; margin: 0; padding: 0; }
      #messages li { padding: 5px 10px;  background: white;width: 100%}
      #messages li:nth-child(odd) { background: pink; }
    </style>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  </head>
<body onload="mi_funcion();">
 
 <!--<embed src="./music.mp3" autostart="true" loop="true" width="200" height="200">-->
<audio id="audi" src="music.mp3">No soporta el audio</audio>
<bgsound src="music.mp3" loop="1">
<!--<audio autoplay controls loop>
  <source src="music.ogg"  type="audio/ogg"/>
  <source src="music.mp3" type="audio/mpeg"/>
 </audio>-->

<div class="container" style="background-color: #121841;padding-bottom: 11px" >
  <h1 style="color:#FFBCBC"><bold>Hello World! ,Welcome to the CHAT </bold></h1>
  <p style="color:#FFFFFF">This is a chat test , to do the job and the funniest conversations</p>
  <h2 style="color: #FFFFFF"><p>Write anything ... : D</p></h2>

<br>
      <div class="col-sm-8" style="background-color:#121841;">
    <!--<ul id="messages"></ul></div>-->


          <div class="container" style="width:500px; height:450px; overflow:auto">
            
             <ul id="messages"></ul>
           </div>
           <br>
           <form action="" position="center" width="100%">
            <table position="center" border="0" style="width:900px">
              <tr>
                <td><input id="m" autocomplete="off" type="text" class="form-control" /></td>
                <td><button type="button" class="btn btn-success">Send</button></td>
              </tr>
            </table>
            </form>
         </div>




    <div class="col-sm-4" style="background-color:#121841;" align="center">
      <img src="https://media.tenor.com/images/170040209d6135e4e3f9305af0dbce03/tenor.gif"  style="width:300px; height:550px; overflow:auto;padding-bottom: 50px">
    </div>
  </div>



    

    <!--SCRIPT PARA CONECTAR CON SOCKET:IO-->
    <script src="/socket.io/socket.io.js"></script>
    <script src="https://code.jquery.com/jquery-1.11.1.js"></script>
    <script type="text/javascript">
      
      function mi_funcion(){
        var aud = document.getElementById('audi');
        aud.autoplay = true;
      };
    </script>
    <script>
      
      //var socket = io();
        $(function () {
        var socket = io();
        $('form').submit(function(e){
          e.preventDefault(); // prevents page reloading
          //lleva al servidor
          socket.emit('chat message', $('#m').val());
          $('#m').val('');
          return false;
          });
          //evento para enviar mensaje
          socket.on('chat message', function(msg){
          $('#messages').append($('<li>').text(msg));
          });
        });
    </script>
  </body>
</html>